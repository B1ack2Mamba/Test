// Auto-generated from "Документ Microsoft Word (2) (2).docx". Do not edit by hand.
export type Pf16Gender = "male" | "female";
export type Pf16NormGroup = "common" | "female_16_18" | "male_16_18" | "female_19_28" | "male_19_28" | "female_29_70" | "male_29_70";
export type Range = [number, number];
export type Pf16NormTable = Record<string, (Range[] | null)[]>;
export const PF16_NORM_GROUP_LABEL: Record<Pf16NormGroup, string> = {"common": "Общие (пол/возраст не заданы)", "female_16_18": "Женщины 16–18", "male_16_18": "Мужчины 16–18", "female_19_28": "Женщины 19–28", "male_19_28": "Мужчины 19–28", "female_29_70": "Женщины 29–70", "male_29_70": "Мужчины 29–70"} as any;
export const PF16_NORMS: Record<Pf16NormGroup, Pf16NormTable> = {
  "common": {
    "A": [[[3,4]],[[5,6]],[[7,7]],[[8,8]],[[9,9]],[[10,11]],[[12,12]],[[13,13]],[[14,15]],[[16,19]]],
    "B": [[[0,1]],[[2,3]],[[4,4]],[[5,5]],[[6,6]],[[7,7]],[[8,8]],[[9,9]],[[10,10]],[[11,17]]],
    "C": [[[1,6]],[[7,8]],[[9,10]],[[11,12]],[[13,13]],[[14,15]],[[16,17]],[[18,20]],[[21,21]],[[22,26]]],
    "E": [[[2,4]],[[5,6]],[[7,7]],[[8,9]],[[10,10]],[[11,12]],[[13,13]],[[14,15]],[[16,17]],[[18,22]]],
    "F": [[[4,5]],[[6,7]],[[8,9]],[[10,10]],[[11,12]],[[13,14]],[[15,16]],[[17,18]],[[19,20]],[[21,26]]],
    "G": [[[2,4]],[[5,7]],[[8,9]],[[10,11]],[[12,13]],[[14,14]],[[15,16]],[[17,17]],[[18,18]],[[19,22]]],
    "H": [[[1,3]],[[4,5]],[[6,7]],[[8,9]],[[10,13]],[[14,14]],[[15,16]],[[17,18]],[[19,20]],[[21,25]]],
    "I": [[[0,3]],[[4,4]],[[5,5]],[[6,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,14]],[[15,18]]],
    "L": [[[2,3]],[[4,5]],[[6,6]],[[7,7]],[[8,9]],[[10,10]],[[11,11]],[[12,13]],[[14,15]],[[16,18]]],
    "M": [[[2,3]],[[4,5]],[[6,7]],[[8,8]],[[9,9]],[[10,11]],[[12,12]],[[13,14]],[[15,16]],[[17,20]]],
    "N": [[[2,4]],[[5,5]],[[6,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,15]],[[16,16]],[[17,20]]],
    "O": [[[2,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,16]],[[17,18]],[[19,22]]],
    "Q1": [[[2,3]],[[4,4]],[[5,6]],[[7,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,18]]],
    "Q2": [[[0,2]],[[3,3]],[[4,5]],[[6,6]],[[7,7]],[[8,9]],[[10,11]],[[12,12]],[[13,14]],[[15,17]]],
    "Q3": [[[3,5]],[[6,7]],[[8,9]],[[10,10]],[[11,12]],[[13,13]],[[14,15]],[[16,16]],[[17,17]],[[18,20]]],
    "Q4": [[[0,1]],[[2,3]],[[4,5]],[[6,8]],[[9,10]],[[11,12]],[[13,15]],[[16,17]],[[18,19]],[[20,22]]]
  },
  "female_16_18": {
    "A": [[[0,6]],[[7,8]],[[7,8]],[[9,10]],[[11,11]],[[12,13]],[[14,15]],[[16,16]],[[17,18]],[[19,20]]],
    "B": [[[0,1]],[[2,2]],[[3,3]],[[4,4]],[[5,5]],[[6,6]],[[7,7]],[[8,9]],[[10,10]],[[11,12]]],
    "C": [[[0,6]],[[7,8]],[[9,10]],[[11,12]],[[13,14]],[[15,16]],[[17,18]],[[19,20]],[[21,21]],[[22,26]]],
    "E": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,10]],[[11,12]],[[13,15]],[[16,17]],[[18,19]],[[20,26]]],
    "F": [[[0,6]],[[7,8]],[[9,11]],[[12,14]],[[15,16]],[[17,18]],[[19,20]],[[21,22]],[[23,23]],[[24,26]]],
    "G": [[[0,5]],[[6,7]],[[8,9]],[[10,11]],[[12,13]],[[14,14]],[[15,16]],[[17,17]],[[18,18]],[[19,20]]],
    "H": [[[0,2]],[[3,4]],[[5,7]],[[8,9]],[[10,12]],[[13,14]],[[15,17]],[[18,20]],[[21,22]],[[23,26]]],
    "I": [[[0,5]],[[6,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,15]],[[16,17]],[[18,20]]],
    "L": [[[0,2]],[[3,3]],[[4,5]],[[6,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,14]],[[15,16]]],
    "M": [[[0,6]],[[7,7]],[[8,9]],[[10,10]],[[11,12]],[[13,14]],[[15,16]],[[17,17]],[[18,19]],[[20,26]]],
    "N": [[[0,5]],[[6,6]],[[7,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,15]],[[16,20]]],
    "O": [[[0,4]],[[5,5]],[[6,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,19]],[[20,26]]],
    "Q1": [[[0,3]],[[4,4]],[[5,5]],[[6,6]],[[7,8]],[[9,9]],[[10,11]],[[12,12]],[[13,14]],[[15,20]]],
    "Q2": [[[0,3]],[[4,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,20]]],
    "Q3": [[[0,4]],[[5,6]],[[7,7]],[[8,9]],[[10,10]],[[11,12]],[[13,13]],[[14,14]],[[15,16]],[[17,20]]],
    "Q4": [[[0,3]],[[4,5]],[[6,8]],[[9,11]],[[12,13]],[[14,16]],[[17,19]],[[20,21]],[[22,23]],[[24,26]]]
  },
  "male_16_18": {
    "A": [[[0,3]],[[4,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,12]],[[13,14]],[[15,16]],[[17,20]]],
    "B": [[[0,1]],[[2,2]],[[3,3]],[[4,4]],[[5,5]],[[6,6]],[[7,7]],[[8,9]],[[10,10]],[[11,12]]],
    "C": [[[0,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,19]],[[20,20]],[[21,22]],[[23,26]]],
    "E": [[[0,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,19]],[[20,21]],[[22,26]]],
    "F": [[[0,5]],[[6,8]],[[9,11]],[[12,14]],[[15,16]],[[17,18]],[[19,20]],[[21,22]],[[23,23]],[[24,26]]],
    "G": [[[0,4]],[[5,6]],[[7,8]],[[9,10]],[[11,12]],[[13,14]],[[15,16]],[[17,17]],[[18,18]],[[19,20]]],
    "H": [[[0,2]],[[3,4]],[[5,7]],[[8,10]],[[11,13]],[[14,16]],[[17,18]],[[19,20]],[[21,22]],[[23,26]]],
    "I": [[[0,2]],[[3,3]],[[4,4]],[[5,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,15]],[[16,20]]],
    "L": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,14]],[[15,16]],[[17,20]]],
    "M": [[[0,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,13]],[[14,14]],[[15,16]],[[17,18]],[[19,26]]],
    "N": [[[0,5]],[[6,7]],[[8,8]],[[9,9]],[[10,10]],[[11,12]],[[13,13]],[[14,15]],[[16,16]],[[17,20]]],
    "O": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,10]],[[11,11]],[[12,13]],[[14,15]],[[16,17]],[[18,26]]],
    "Q1": [[[0,4]],[[5,5]],[[6,6]],[[7,8]],[[9,9]],[[10,11]],[[12,12]],[[13,13]],[[14,15]],[[16,20]]],
    "Q2": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,20]]],
    "Q3": [[[0,3]],[[4,5]],[[6,6]],[[7,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,16]],[[17,20]]],
    "Q4": [[[0,2]],[[3,4]],[[5,6]],[[7,8]],[[10,12]],[[13,15]],[[16,17]],[[18,19]],[[20,21]],[[22,26]]]
  },
  "female_19_28": {
    "A": [[[0,4]],[[5,6]],[[7,7]],[[8,9]],[[10,12]],[[13,13]],[[14,15]],[[16,16]],[[17,18]],[[19,20]]],
    "B": [[[0,4]],[[5,5]],null,[[6,6]],[[7,7]],[[8,8]],[[9,9]],[[10,10]],[[11,11]],[[12,13]]],
    "C": [[[0,6]],[[7,8]],[[9,10]],[[11,12]],[[13,14]],[[15,16]],[[17,18]],[[19,20]],[[21,22]],[[23,26]]],
    "E": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,10]],[[11,12]],[[13,14]],[[15,16]],[[17,18]],[[19,26]]],
    "F": [[[0,5]],[[6,7]],[[8,10]],[[11,12]],[[13,15]],[[16,17]],[[18,19]],[[20,21]],[[22,22]],[[23,26]]],
    "G": [[[0,4]],[[5,6]],[[7,8]],[[9,10]],[[11,12]],[[13,13]],[[14,15]],[[16,17]],[[18,18]],[[19,20]]],
    "H": [[[0,2]],[[3,4]],[[5,7]],[[8,9]],[[10,12]],[[13,15]],[[16,17]],[[18,20]],[[21,22]],[[23,26]]],
    "I": [[[0,5]],[[6,6]],[[7,8]],[[9,10]],[[11,12]],[[13,13]],[[14,14]],[[15,15]],[[16,17]],[[18,20]]],
    "L": [[[0,1]],[[2,3]],[[4,4]],[[5,5]],[[6,7]],[[8,9]],[[10,10]],[[11,12]],[[13,14]],[[15,20]]],
    "M": [[[0,5]],[[6,7]],[[8,8]],[[9,10]],[[11,12]],[[13,14]],[[15,16]],[[17,17]],[[18,19]],[[20,26]]],
    "N": [[[0,5]],[[6,6]],[[7,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,16]],[[17,20]]],
    "O": [[[0,3]],[[4,4]],[[5,6]],[[7,7]],[[8,9]],[[10,12]],[[13,14]],[[15,16]],[[17,18]],[[19,20]]],
    "Q1": [[[0,3]],[[4,4]],[[5,5]],[[6,7]],[[8,8]],[[9,9]],[[10,11]],[[12,13]],[[14,14]],[[15,20]]],
    "Q2": [[[0,3]],[[4,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,20]]],
    "Q3": [[[0,4]],[[5,5]],[[6,7]],[[8,9]],[[10,10]],[[11,12]],[[13,13]],[[14,14]],[[15,16]],[[17,20]]],
    "Q4": [[[0,3]],[[4,5]],[[6,7]],[[8,10]],[[11,12]],[[13,15]],[[16,18]],[[19,20]],[[21,22]],[[23,26]]]
  },
  "male_19_28": {
    "A": [[[0,3]],[[4,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,13]],[[14,14]],[[15,16]],[[17,20]]],
    "B": [[[0,4]],[[5,5]],null,[[6,6]],[[7,7]],[[8,8]],[[9,9]],[[10,10]],[[11,11]],[[12,13]]],
    "C": [[[0,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,19]],[[20,21]],[[22,22]],[[23,26]]],
    "E": [[[0,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,16]],[[17,18]],[[19,19]],[[20,21]],[[22,26]]],
    "F": [[[0,5]],[[6,8]],[[9,10]],[[11,13]],[[14,15]],[[16,17]],[[18,19]],[[20,21]],[[22,23]],[[24,26]]],
    "G": [[[0,4]],[[5,6]],[[7,9]],[[10,11]],[[12,12]],[[13,14]],[[15,16]],[[17,17]],[[18,19]],[[20,20]]],
    "H": [[[0,2]],[[3,4]],[[5,7]],[[8,10]],[[11,13]],[[14,16]],[[17,18]],[[19,20]],[[21,22]],[[23,26]]],
    "I": [[[0,2]],[[3,3]],[[4,5]],[[6,6]],[[7,8]],[[9,10]],[[11,12]],[[13,14]],[[15,15]],[[16,20]]],
    "L": [[[0,3]],[[4,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,12]],[[13,14]],[[15,15]],[[16,20]]],
    "M": [[[0,5]],[[6,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,18]],[[19,20]]],
    "N": [[[0,5]],[[6,7]],[[8,8]],[[9,9]],[[10,10]],[[11,12]],[[13,13]],[[14,15]],[[16,16]],[[17,20]]],
    "O": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,26]]],
    "Q1": [[[0,4]],[[5,5]],[[6,6]],[[7,8]],[[9,9]],[[10,10]],[[11,12]],[[13,13]],[[14,15]],[[16,20]]],
    "Q2": [[[0,3]],[[4,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,20]]],
    "Q3": [[[0,3]],[[4,5]],[[6,6]],[[7,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,16]],[[17,20]]],
    "Q4": [[[0,3]],[[4,4]],[[5,7]],[[8,9]],[[10,12]],[[13,14]],[[15,17]],[[18,19]],[[20,21]],[[22,26]]]
  },
  "female_29_70": {
    "A": [[[0,4]],[[5,6]],[[7,8]],[[9,10]],[[11,11]],[[12,13]],[[14,15]],[[16,16]],[[17,18]],[[19,20]]],
    "B": [[[0,1]],[[2,2]],[[3,3]],[[4,4]],[[5,5]],[[6,6]],[[7,7]],[[8,9]],[[10,10]],[[11,13]]],
    "C": [[[0,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,20]],[[21,22]],[[23,24]],[[25,26]]],
    "E": [[[0,2]],[[3,3]],[[4,5]],[[6,7]],[[8,9]],[[10,11]],[[12,14]],[[15,16]],[[17,18]],[[19,26]]],
    "F": [[[0,4]],[[5,6]],[[7,8]],[[9,10]],[[11,13]],[[14,15]],[[16,17]],[[18,19]],[[20,21]],[[22,26]]],
    "G": [[[0,6]],[[7,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,16]],[[17,17]],[[18,19]],[[20,20]]],
    "H": [[[0,2]],[[3,4]],[[5,7]],[[8,9]],[[10,12]],[[13,14]],[[15,17]],[[18,20]],[[21,22]],[[23,26]]],
    "I": [[[0,5]],[[6,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,16]],[[17,17]],[[18,20]]],
    "L": [[[0,1]],[[2,2]],[[3,4]],[[5,5]],[[6,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,20]]],
    "M": [[[0,6]],[[7,7]],[[8,9]],[[10,11]],[[12,12]],[[13,14]],[[15,16]],[[17,17]],[[18,19]],[[20,26]]],
    "N": [[[0,5]],[[6,6]],[[7,7]],[[8,9]],[[10,10]],[[11,11]],[[12,13]],[[14,14]],[[15,15]],[[16,20]]],
    "O": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,10]],[[11,12]],[[13,14]],[[15,16]],[[17,18]],[[19,26]]],
    "Q1": [[[0,3]],[[4,4]],[[5,5]],[[6,7]],[[8,8]],[[9,9]],[[10,11]],[[12,13]],[[14,14]],[[15,20]]],
    "Q2": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,20]]],
    "Q3": [[[0,5]],[[6,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,16]],[[17,17]],[[18,20]]],
    "Q4": [[[0,2]],[[3,4]],[[5,7]],[[8,10]],[[11,12]],[[13,15]],[[16,17]],[[18,20]],[[21,22]],[[23,26]]]
  },
  "male_29_70": {
    "A": [[[0,3]],[[4,4]],[[5,6]],[[7,7]],[[8,9]],[[10,11]],[[12,13]],[[14,14]],[[15,16]],[[17,20]]],
    "B": [[[0,1]],[[2,2]],[[3,3]],[[4,4]],[[5,5]],[[6,6]],[[7,7]],[[8,9]],[[10,10]],[[11,13]]],
    "C": [[[0,7]],[[8,10]],[[11,12]],[[13,14]],[[15,16]],[[17,17]],[[18,19]],[[20,21]],[[22,23]],[[24,26]]],
    "E": [[[0,5]],[[6,7]],[[8,9]],[[10,11]],[[12,13]],[[14,15]],[[16,17]],[[18,19]],[[20,21]],[[22,26]]],
    "F": [[[0,3]],[[4,5]],[[6,8]],[[9,10]],[[11,13]],[[14,15]],[[16,17]],[[18,19]],[[20,20]],[[21,26]]],
    "G": [[[0,4]],[[5,7]],[[8,10]],[[11,12]],[[13,13]],[[14,15]],[[16,17]],[[18,18]],[[19,19]],[[20,20]]],
    "H": [[[0,3]],[[4,5]],[[6,8]],[[9,11]],[[12,14]],[[15,16]],[[17,19]],[[20,21]],[[22,23]],[[24,26]]],
    "I": [[[0,2]],[[3,3]],[[4,4]],[[5,6]],[[7,8]],[[9,10]],[[11,12]],[[13,14]],[[15,15]],[[16,20]]],
    "L": [[[0,2]],[[3,3]],[[4,5]],[[6,7]],[[8,8]],[[9,10]],[[11,12]],[[13,13]],[[14,15]],[[16,20]]],
    "M": [[[0,5]],[[6,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,15]],[[16,17]],[[18,19]],[[20,26]]],
    "N": [[[0,6]],[[7,7]],[[8,9]],[[10,10]],[[11,11]],[[12,13]],[[14,14]],[[15,15]],[[16,17]],[[18,20]]],
    "O": [[[0,2]],[[3,3]],[[4,5]],[[6,7]],[[8,9]],[[10,11]],[[12,12]],[[13,15]],[[16,17]],[[18,26]]],
    "Q1": [[[0,4]],[[5,6]],[[7,7]],[[8,8]],[[9,10]],[[11,11]],[[12,13]],[[14,14]],[[15,16]],[[17,20]]],
    "Q2": [[[0,3]],[[4,4]],[[5,6]],[[7,8]],[[9,10]],[[11,11]],[[12,13]],[[14,15]],[[16,17]],[[18,20]]],
    "Q3": [[[0,4]],[[5,6]],[[7,8]],[[9,9]],[[10,11]],[[12,12]],[[13,14]],[[15,15]],[[16,17]],[[18,20]]],
    "Q4": [[[0,0]],[[1,2]],[[3,5]],[[6,7]],[[8,10]],[[11,12]],[[13,15]],[[16,17]],[[18,19]],[[20,26]]]
  },
};
export function pickPf16NormGroup(gender: Pf16Gender | undefined, age: number | undefined): Pf16NormGroup {
  if (!gender || !age || !Number.isFinite(age)) return "common";
  const a = Math.round(age);
  const band: "16_18" | "19_28" | "29_70" = a <= 18 ? "16_18" : a <= 28 ? "19_28" : "29_70";
  return `${gender}_${band}` as Pf16NormGroup;
}
export function pf16RawToSten(group: Pf16NormGroup, factor: string, raw: number): number {
  const table = PF16_NORMS[group]?.[factor];
  if (!table) return 5;
  const r = Math.round(raw);
  let bestSten = 5;
  let bestDist = Number.POSITIVE_INFINITY;
  for (let i = 0; i < 10; i++) {
    const ranges = table[i];
    if (!ranges) continue;
    for (const [lo, hi] of ranges) {
      if (r >= lo && r <= hi) return i + 1;
      const dist = r < lo ? lo - r : r > hi ? r - hi : 0;
      if (dist < bestDist) { bestDist = dist; bestSten = i + 1; }
    }
  }
  return bestSten;
}

// Backward-compatible export names expected by score.ts
export const pf16PickNormGroup = pickPf16NormGroup;

export function pf16NormGroupLabel(group: Pf16NormGroup): string {
  return (PF16_NORM_GROUP_LABEL as any)[group] ?? String(group);
}
